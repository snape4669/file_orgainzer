# 文件整理工具

这是一个专为Windows系统设计的文件整理工具，具有图形用户界面，可以自动将文件夹中的文件按照特定规则分类整理。

## 功能特点

- 🖥️ 图形用户界面，操作简单直观
- 📁 支持选择任意文件夹进行整理
- 🔍 自动遍历所有子文件夹
- 📋 智能文件分类：
  - 文件名包含"修改后"的文件 → 移动到"修改后"文件夹
  - 其他文件 → 移动到"原图"文件夹
- ⚡ 根文件夹集中分类（在用户指定文件夹中创建分类文件夹）
- 🏗️ 智能文件夹检测（避免重复创建分类文件夹）
- 🔧 自动修正错误分类的文件
- 🚫 避免重复操作（已存在的文件不会重复移动）
- 📊 实时进度显示和操作日志
- 🧵 多线程处理，界面不会卡顿

## 系统要求

- Windows 操作系统
- Python 3.6 或更高版本
- tkinter 库（通常随Python一起安装）

## 安装说明

1. 确保您的系统已安装Python 3.6+
2. 下载程序文件到本地文件夹
3. 无需安装额外依赖包

## 使用方法

### 方法1：直接运行（推荐）

1. 双击 `file_organizer.py` 文件
2. 或者在命令行中运行：
   ```bash
   python file_organizer.py
   ```

### 方法2：通过命令行运行

1. 打开命令提示符或PowerShell
2. 导航到程序所在文件夹
3. 运行命令：
   ```bash
   python file_organizer.py
   ```

## 操作步骤

1. **启动程序**：运行程序后会出现图形界面
2. **选择文件夹**：点击"选择文件夹"按钮，选择需要整理的文件夹
3. **开始整理**：点击"开始整理"按钮，程序将自动处理所有文件
4. **查看进度**：通过进度条和状态信息了解处理进度
5. **查看日志**：在日志区域查看详细的操作记录

## 文件分类规则

程序会遍历选定文件夹及其所有子文件夹，按照以下规则分类文件：

- **"修改后"文件夹**：存放文件名包含"修改后"的文件
- **"原图"文件夹**：存放其他所有文件

### 智能文件夹创建
- 程序只会在**包含文件的文件夹**中创建分类文件夹
- 如果某个文件夹只包含子文件夹而没有文件，则不会创建空的分类文件夹
- 这样可以避免创建无意义的空文件夹，保持文件结构整洁

### 根文件夹集中分类
- 程序在用户指定的根文件夹中创建"原图"和"修改后"两个分类文件夹
- 所有子文件夹中的文件都会被收集并移动到根文件夹的分类文件夹中
- 如果根文件夹中已存在分类文件夹，程序会直接使用，不会重复创建
- 确保文件结构清晰：用户指定文件夹 → 分类文件夹（原图/修改后）包含所有文件

### 自动修正功能
- 程序会自动检测并修正已经错误分类的文件
- 如果发现文件名包含"修改后"的文件被错误地放在了"原图"文件夹中，程序会自动将其移动到正确的"修改后"文件夹
- 修正过程在文件整理之前进行，确保所有文件都能被正确分类

每个包含文件的子文件夹中都会根据需要创建相应的分类文件夹，文件会被移动到对应文件夹中。

## 安全特性

- ✅ 检查目标文件是否已存在，避免覆盖
- ✅ 自动创建必要的文件夹结构
- ✅ 错误处理和异常捕获
- ✅ 详细的操作日志记录
- ✅ 多线程处理，防止界面冻结

## 注意事项

1. **备份重要文件**：建议在整理前备份重要文件
2. **文件权限**：确保程序有足够的权限访问和修改目标文件夹
3. **文件占用**：确保要移动的文件没有被其他程序占用
4. **路径长度**：Windows系统对文件路径长度有限制，避免过深的文件夹结构

## 故障排除

### 常见问题

**Q: 程序无法启动**
A: 检查Python是否正确安装，确保版本为3.6+

**Q: 无法选择文件夹**
A: 检查文件夹权限，确保程序有访问权限

**Q: 文件移动失败**
A: 检查文件是否被占用，确保有足够的磁盘空间

**Q: 界面显示异常**
A: 尝试调整窗口大小，或重启程序

## 技术实现

- **GUI框架**：tkinter
- **文件操作**：os, shutil, pathlib
- **多线程**：threading
- **界面样式**：ttk主题

## 许可证

本程序为开源软件，可自由使用和修改。

## 更新日志

- v1.0.0：初始版本，包含基本的文件整理功能
- 支持Windows系统
- 图形用户界面
- 自动文件分类
- 进度显示和日志记录
